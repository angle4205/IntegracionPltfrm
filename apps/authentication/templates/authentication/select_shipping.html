{% extends 'base.html' %} {% load static %} {% block title %}Seleccionar
Dirección de Envío{% endblock %} {% block extra_css %}
<link rel="stylesheet" href="{% static 'css/shipping.css' %}" />
{% endblock %} {% block content %}
<div class="container mt-5">
  <h1 class="mb-4">Seleccionar Dirección de Envío</h1>

  <!-- Address Selection -->
  <form
    method="POST"
    action="{% url 'authentication:select_shipping_address' %}"
  >
    {% csrf_token %}
    <div class="mb-4">
      <h4>Direcciones Guardadas</h4>
      {% if user.addresses.all %}
      <div class="list-group">
        {% for address in user.addresses.all %}
        <label class="list-group-item">
          <input
            type="radio"
            name="selected_address"
            value="{{ address.id }}"
            {%
            if
            address.is_default
            %}checked{%
            endif
            %}
          />
          {{ address.address }} {% if address.is_default %}
          <span class="badge bg-primary">Predeterminada</span>
          {% endif %}
        </label>
        {% endfor %}
      </div>
      {% else %}
      <p class="text-muted">No tienes direcciones guardadas.</p>
      {% endif %}
    </div>

    <!-- Add New Address -->
    <div class="mb-4">
      <h4>Agregar Nueva Dirección</h4>
      <textarea
        class="form-control"
        name="new_address"
        rows="3"
        placeholder="Ingresa una nueva dirección"
      ></textarea>
      <div class="form-check mt-2">
        <input
          class="form-check-input"
          type="checkbox"
          name="set_as_default"
          id="setAsDefault"
        />
        <label class="form-check-label" for="setAsDefault">
          Establecer como predeterminada
        </label>
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">Confirmar Dirección</button>
  </form>
</div>
{% endblock %} {% block extra_js %}
<script>
  console.log("Select Shipping Address page loaded");
</script>
{% endblock %}
